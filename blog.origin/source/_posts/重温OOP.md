---
title: 重温OOP
date: 2020-04-06 19:59:16
tags:
---

## OOA
Object-Oriented Analysis （面向对象分析）

只是对需求中描述的问题，进行模块化的处理，描述问题的本质，区别每个问题的不同点相同点，确定问题中的对象。

## OOD
是管理程序内部各部分的相互依赖。为了达到这个目标，OOD要求将程序分成块，每个块的规模应该小到可以管理的程度，然后分别将各个块隐藏在接口（interface）的后面，只通过接口相互交流。

## 什么叫OOP
Object Oriented Programming （面向对象的编程）

优点：易维护、易复用、易扩展，由于面向对象有封装、继承、多态性的特性，可以设计出低耦合的系统，使系统 更加灵活、更加易于维护 .

缺点：性能比面向过程差

## 面向对象的三大特性：
1. 封装
隐藏对象的属性和实现细节，仅对外提供公共访问方式，将变化隔离，便于使用，提高复用性和安全性。
2. 继承
提高代码复用性；继承是多态的前提。子类继承父类的所有属性和行为。
3. 多态
父类或接口定义的引用变量可以指向子类或具体实现类的实例对象。提高了程序的拓展性。

## 五大基本原则：
1. 单一职责原则SRP(Single Responsibility Principle)
类的功能要单一，不能包罗万象，跟杂货铺似的。

2. 开放封闭原则OCP(Open－Close Principle)
一个模块对于拓展是开放的，对于修改是封闭的，想要增加功能热烈欢迎，想要修改，哼，一万个不乐意。
3. 里式替换原则LSP(the Liskov Substitution Principle LSP)
子类可以替换父类出现在父类能够出现的任何地方。比如你能代表你爸去你姥姥家干活。哈哈~~
4. 依赖倒置原则DIP(the Dependency Inversion Principle DIP)
高层次的模块不应该依赖于低层次的模块，他们都应该依赖于抽象。抽象不应该依赖于具体实现，具体实现应该依赖于抽象。就是你出国要说你是中国人，而不能说你是哪个村子的。比如说中国人是抽象的，下面有具体的xx省，xx市，xx县。你要依赖的是抽象的中国人，而不是你是xx村的。
5. 接口分离原则ISP(the Interface Segregation Principle ISP)
设计时采用多个与特定客户类有关的接口比采用一个通用的接口要好。就比如一个手机拥有打电话，看视频，玩游戏等功能，把这几个功能拆分成不同的接口，比在一个接口里要好的多。


## 代码抽象化三大原则
1. DRY 原则
DRY，是 Don't repeat yourself 的缩写，中文为：不要重复自己。

软件工程名著《The Pragmatic Programmer》首先提出了这个原则。

DRY 原则：系统的每一个功能都应该有唯一的实现。

2. YAGNI 原则
YAGNI，是 You aren't gonna need it 的缩写，中文为：你不会需要它的。
这是"极限编程"提倡的原则。

YAGNI 原则：你自以为有用的功能，实际上都是用不到的，保持最核心的功能即可。

3. Rule Of Three 原则
Rule Of Three 原则，又称“三次原则”。
实际上 DRY 原则和 YAGNI 原则是有些矛盾的，前者讲究“抽象化”，后者推崇“快和省”。
因此才出现了 Rule Of Three 原则（三次原则）

Rule Of Three 原则：
1、当某个功能只出现 1 ~ 2 次时，就不需要做抽象化了，费时费力。

2、当某个功能出现 3 次及以上时，再进行抽象化，封装下写成通用的方法。


## 谈谈耦合
### 耦合分类
耦合按从强到弱的顺序可分为以下几种类型：

非直接耦合：两模块间没有直接关系，之间的联系完全是通过主模块的控制和调用来实现的 
数据耦合：指两个模块之间有调用关系，传递的是简单的数据值，相当于高级语言的值传递
标记耦合：指两个模块之间传递的是数据结构，如高级语言中的数组名、记录名、文件名等这些名字即标记，其实传递的是这个数据结构的地址 
控制耦合：一指一个模块调用另一个模块时，传递的是控制变量（如开关、标志等），被调模块通过该控制变量的值有选择地执行块内某一功能
外部耦合：一组模块都访问 同一全局简单变量 而不是同一全局数据结构，而且不是通过参数传递该全局变量的信息 
公共耦合：一组模块都访问 同一个公共数据环境。该公共数据环境可以是全局数据结构、共享的通信区、内存的公共覆盖区等。 
内容耦合：这是最高程度的耦合，也是最差的耦合。当一个模块直接使用另一个模块的内部数据，或通过非正常入口而转入另一个模块内部。


### 如何降低耦合（解耦合）
1. 【少使用类的继承】，多用接口隐藏实现的细节。 Java面向对象编程引入接口除了支持多态外， 隐藏实现细节也是其中一个目的。
2. 模块的【功能化分尽可能的单一】，道理也很简单，功能单一的模块供其它模块调用的机会就少。（其实这是高内聚的一种说法，高内聚低耦合一般同时出现，为了限制篇幅，我们将在以后的版期中讨论）。
遵循一个定义只在一个地方出现。
3. 少使用全局变量。
4. 类属性和方法的声明少用public，多用private关键字，
5. 多用设计模式，比如采用MVC的设计模式就可以降低界面与业务逻辑的耦合度。
6. 尽量不用“硬编码”的方式写程序，同时也尽量避免直接用SQL语句操作数据库。
7. 最后当然就是避免直接操作或调用其它模块或类（内容耦合）；如果模块间必须存在耦合，原则上尽量使用数据耦合，少用控制耦合，
8. 限制公共耦合的范围，避免使用内容耦合。